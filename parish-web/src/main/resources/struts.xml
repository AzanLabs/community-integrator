<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
    <struts>
    	<constant name="struts.devMode" value="true"></constant>
    	<!-- <constant name="struts.objectFactory" value="spring"/> -->
    	<package name="/" extends="json-default">
    		<interceptors>
                <interceptor class="com.coop.parish.web.interceptor.LoginInterceptor" name="loginInterceptor">
                </interceptor>
                <interceptor-stack name="loginStack">
                        <interceptor-ref name="loginInterceptor" />
                        <interceptor-ref name="defaultStack" />
                </interceptor-stack>
        	</interceptors>
			
			<!--  <action name="index">
				<result>/login.jsp</result>
			</action>
			
    		<action name="loginAction" class="com.coop.parish.web.actions.LoginAction" method="execute">
    			<result name="success" type="redirect">home</result>
    			<result name="login">/login.jsp</result>
    		</action>
			
			<action name="home">
				 <interceptor-ref name="loginStack" />
				 <result name="login">/login.jsp</result>
				 <result name="success">/home.jsp</result>
			</action> --> 
			<action name="savechurch_form">
				<result name="success">/views/savechurch.jsp</result>
			</action>
			
			<action name="savechurch" class="com.coop.parish.web.actions.ChurchAction" method="saveChurch">
				<result name="input" type="json">
					<param name="statusCode">300</param>
					<param name="root">fieldErrors</param>
					<param name="wrapPrefix"><![CDATA[{"errors" :]]></param>
					<param name="wrapSuffix"><![CDATA[}]]></param>
				</result>
				<result name="success">/views/success.jsp</result>
			</action>  			
    	</package>
    </struts>